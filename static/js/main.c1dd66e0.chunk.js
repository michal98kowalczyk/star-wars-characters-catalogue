(this["webpackJsonpstar-wars-characters-catalogue"]=this["webpackJsonpstar-wars-characters-catalogue"]||[]).push([[0],{19:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(12),s=n.n(a),i=(n(19),n(5)),u=n.n(i),o=n(8),j=n(4),l=n(3),b=n(0),h=function(e){var t=e.title;return Object(b.jsx)("li",{children:t})},f=function(e){var t=e.titles.map((function(e,t){return Object(b.jsx)(h,{title:e},t)}));return Object(b.jsx)("ol",{children:t})},O=[],d=function(e){var t=e.name,n=e.birth_year,r=e.gender,a=e.films,s=e.height,i=e.mass,h=Object(c.useState)(O),d=Object(l.a)(h,2),x=d[0],p=d[1],m=Object(c.useState)(!1),g=Object(l.a)(m,2),v=g[0],k=g[1];Object(c.useEffect)((function(){w().then((function(e){return p(Object(j.a)(e))}))}),[]);var w=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!a){e.next=15;break}n=0;case 3:if(!(n<a.length)){e.next=15;break}return e.next=6,fetch(a[n]);case 6:if(200!==(c=e.sent).status){e.next=12;break}return e.next=10,c.json();case 10:r=e.sent,t.push(r.title);case 12:n++,e.next=3;break;case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsx)("span",{children:"Name:"})," ",t,", ",Object(b.jsx)("span",{children:"Birth year:"})," ",n,", ",Object(b.jsx)("span",{children:"Gender:"})," ",r]}),C=Object(b.jsxs)(b.Fragment,{children:["  ",Object(b.jsx)("span",{children:"Height:"}),s,", ",Object(b.jsx)("span",{children:"Mass:"})," ",i,"  ",Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:"Films:"}),Object(b.jsx)(f,{titles:x})]});return Object(b.jsxs)("li",{onClick:function(){k((function(e){return!e}))},children:[F,v&&C]})},x=(n(22),function(e){var t=e.setNameForFiltering,n=e.setIsFiltered,r=Object(c.useState)(""),a=Object(l.a)(r,2),s=a[0],i=a[1];return Object(b.jsxs)("form",{children:[Object(b.jsx)("label",{htmlFor:"name",children:Object(b.jsx)("input",{id:"name",value:s,onChange:function(e){return i(e.currentTarget.value)},type:"text",placeholder:"Name"})}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),t(s),n(!0)},children:"Search"}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),t(""),i(""),n(!1)},children:"Clear"})]})}),p=(n(23),function(e){var t=e.people,n=Object(c.useState)(!1),r=Object(l.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(""),u=Object(l.a)(i,2),o=u[0],j=u[1],h=a?t.filter((function(e){return e.name.toLowerCase().match(o.toLowerCase())})):t;return h=h.map((function(e,t){return Object(b.jsx)(d,{name:e.name,birth_year:e.birth_year,gender:e.gender,films:e.films,height:e.height,mass:e.mass},t)})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{setNameForFiltering:j,setIsFiltered:s}),Object(b.jsxs)("main",{children:[Object(b.jsx)("h2",{children:"Characters: "}),Object(b.jsx)("ul",{children:h})]})]})}),m=n(13),g=n(14),v=(n(29),Object(b.jsx)(m.a,{icon:g.a})),k=function(){return Object(b.jsxs)("footer",{children:[v,Object(b.jsx)("span",{children:"Micha\u0142 Kowalczyk"})]})},w=(n(30),function(){return Object(b.jsx)("header",{children:Object(b.jsx)("h1",{children:"Star Wars Characters Catalogue"})})}),F=(n(31),function(e){var t=e.click;return Object(b.jsxs)("button",{className:"loader",onClick:function(){t(5)},children:["Load next ",5," characters"]})}),C=(n(32),[]),y=0;var S=function(){var e=Object(c.useState)(C),t=Object(l.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){return window.addEventListener("scroll",h),s(10).then((function(e){return r((function(t){return y+=e.length,[].concat(Object(j.a)(t),Object(j.a)(e))}))})),function(){return window.removeEventListener("scroll",h)}}),[]);var a=function(e,t){for(var n=[],c=e;c<e+t;c++)n.push("".concat("https://swapi.dev/api/","people/").concat(c+1,"/"));return n},s=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,c,r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a(y,t),c=[],r=0;case 3:if(!(r<n.length)){e.next=15;break}return e.next=6,fetch(n[r]);case 6:if(200!==(s=e.sent).status){e.next=12;break}return e.next=10,s.json();case 10:i=e.sent,c.push(i);case 12:r++,e.next=3;break;case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(e){s(e).then((function(e){return r((function(t){return y+=e.length,[].concat(Object(j.a)(t),Object(j.a)(e))}))}))},h=function(e){(document.documentElement.scrollTop||document.body.scrollTop)+1>=document.documentElement.scrollHeight-document.documentElement.clientHeight&&i(5)};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(w,{}),Object(b.jsx)(F,{click:i}),Object(b.jsx)(p,{people:n}),Object(b.jsx)(k,{})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root")),E()}},[[33,1,2]]]);
//# sourceMappingURL=main.c1dd66e0.chunk.js.map